<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SMART-DS OpenDSS Model Preparation &mdash; DISCO 0.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=19f00094" />

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/documentation_options.js?v=2709fde1"></script>
        <script src="../_static/doctools.js?v=9a2dae69"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="PV Deployments" href="../pv-deployments.html" />
    <link rel="prev" title="Data Sources" href="../data-sources.html" />
    <link href="../_static/style.css" rel="stylesheet" type="text/css">

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            DISCO
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">User Guide</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../installation.html#conda-installation">Conda Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation.html#developer-installation">Developer Installation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../overview.html">Overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../overview.html#data-sources">Data Sources</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview.html#transform-model">Transform Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview.html#config-jobs">Config Jobs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview.html#submit-jobs">Submit Jobs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview.html#result-analysis">Result Analysis</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../quick-start.html">Quick Start</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../quick-start.html#source-data">Source Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../quick-start.html#transform-model">Transform Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../quick-start.html#config-jobs">Config Jobs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../quick-start.html#submit-jobs">Submit Jobs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../quick-start.html#result-analysis">Result Analysis</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../data-sources.html">Data Sources</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../data-sources.html#generic-power-flow-models">Generic Power Flow Models</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../data-sources.html#sourcetree1-model">SourceTree1 Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../data-sources.html#sourcetree2-model">SourceTree2 Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../data-sources.html#gem-model">GEM Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../data-sources.html#epri-model">EPRI Model</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../pv-deployments.html">PV Deployments</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../pv-deployments.html#sourcetree1-pv-deployments">SourceTree1 PV Deployments</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../transform-models.html">Transform Models</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../transform-models.html#transform-model-help">Transform Model Help</a></li>
<li class="toctree-l2"><a class="reference internal" href="../transform-models.html#disco-model-in-depth">DISCO Model in Depth</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../analysis-workflows.html">Analysis Workflows</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../analysis-workflows/hosting-capacity-analysis.html">Hosting Capacity Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../analysis-workflows/upgrade-cost-analysis.html">Upgrade Cost Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../analysis-workflows/impact-analysis.html">Impact Analysis</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../pipelines.html">Pipelines</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../pipelines.html#sourcetree1model">SourceTree1Model</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../debugging-issues.html">Debugging Issues</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../debugging-issues.html#disco-return-codes">DISCO Return Codes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../debugging-issues.html#using-jade">Using JADE</a></li>
<li class="toctree-l2"><a class="reference internal" href="../debugging-issues.html#using-pydss">Using PyDSS</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../data-ingestion.html">Data Ingestion</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../data-ingestion.html#ingest-to-new-database">Ingest to New Database</a></li>
<li class="toctree-l2"><a class="reference internal" href="../data-ingestion.html#ingest-to-existing-database">Ingest to Existing Database</a></li>
<li class="toctree-l2"><a class="reference internal" href="../data-ingestion.html#run-database-queries">Run Database Queries</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../advanced-guide.html">Advanced Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../advanced-guide/upgrade-cost-analysis-generic-models.html">Upgrade Cost Analysis JSON Schemas</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Contribution</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../build-docs.html">Build docs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license.html">License</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">DISCO</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../data-sources.html">Data Sources</a></li>
      <li class="breadcrumb-item active">SMART-DS OpenDSS Model Preparation</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/data-sources/smart-ds-model-preparation.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="smart-ds-opendss-model-preparation">
<h1>SMART-DS OpenDSS Model Preparation<a class="headerlink" href="#smart-ds-opendss-model-preparation" title="Link to this heading">¶</a></h1>
<p>Hosting Capacity Analysis makes use of the OpenDSS models from the <a class="reference external" href="https://data.openei.org/s3_viewer?bucket=oedi-data-lake&amp;prefix=SMART-DS%2Fv1.0%2F2018%2F">SMART-DS</a> dataset.
More documentation on the open source SMART-DS datasets can be found at the <a class="reference external" href="https://github.com/openEDI/documentation/tree/main/SMART-DS">SMART-DS website</a>.
Pre-processing is performed on this dataset to prepare it for the analysis. The chart below shows the various stages of pre-processing performed on the SMART-DS OpenDSS Models.</p>
<a class="reference internal image-reference" href="../_images/SMART-DS-flowchart.png"><img alt="../_images/SMART-DS-flowchart.png" src="../_images/SMART-DS-flowchart.png" style="width: 400px;" /></a>
<section id="copy-smart-ds-dataset">
<h2>Copy SMART-DS Dataset<a class="headerlink" href="#copy-smart-ds-dataset" title="Link to this heading">¶</a></h2>
<p>The dataset can be copied to the analysis location using <a class="reference external" href="https://github.com/NREL/disco/blob/main/scripts/copy_smart_ds_dataset.py">https://github.com/NREL/disco/blob/main/scripts/copy_smart_ds_dataset.py</a></p>
<p>Usage:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>python<span class="w"> </span>~/sandboxes/disco/scripts/copy_smart_ds_dataset.py<span class="w"> </span>-y<span class="w"> </span><span class="m">2018</span><span class="w"> </span>-c<span class="w"> </span>SFO<span class="w"> </span>-v<span class="w"> </span>v1.0<span class="w"> </span>/projects/distcosts3/SMART-DS
</pre></div>
</div>
<p>Here is the help:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>python<span class="w"> </span>~/sandboxes/disco/scripts/copy_smart_ds_dataset.py<span class="w"> </span>--help

<span class="w"> </span>Usage:<span class="w"> </span>copy_smart_ds_dataset.py<span class="w"> </span><span class="o">[</span>OPTIONS<span class="o">]</span><span class="w"> </span>OUTPUT_DIR

<span class="w">   </span>Copy<span class="w"> </span>a<span class="w"> </span>SMART-DS<span class="w"> </span>from<span class="w"> </span>the<span class="w"> </span>Eagle<span class="w"> </span><span class="nb">source</span><span class="w"> </span>directory<span class="w"> </span>to<span class="w"> </span>a<span class="w"> </span>destination<span class="w"> </span>directory.

<span class="w"> </span>Options:
<span class="w">   </span>-f,<span class="w"> </span>--force<span class="w">         </span>overwrite<span class="w"> </span>output-dir<span class="w"> </span><span class="k">if</span><span class="w"> </span>it<span class="w"> </span>exists
<span class="w">   </span>-c,<span class="w"> </span>--city<span class="w"> </span>TEXT<span class="w">     </span>dataset<span class="w"> </span>city<span class="w">  </span><span class="o">[</span>required<span class="o">]</span>
<span class="w">   </span>-y,<span class="w"> </span>--year<span class="w"> </span>TEXT<span class="w">     </span>dataset<span class="w"> </span>year<span class="w">  </span><span class="o">[</span>required<span class="o">]</span>
<span class="w">   </span>-v,<span class="w"> </span>--version<span class="w"> </span>TEXT<span class="w">  </span>dataset<span class="w"> </span>version<span class="w">  </span><span class="o">[</span>required<span class="o">]</span>
<span class="w">   </span>--help<span class="w">              </span>Show<span class="w"> </span>this<span class="w"> </span>message<span class="w"> </span>and<span class="w"> </span>exit.
</pre></div>
</div>
</section>
<section id="restructure-to-substation-transformer">
<h2>Restructure to substation transformer<a class="headerlink" href="#restructure-to-substation-transformer" title="Link to this heading">¶</a></h2>
<p>The SMART-DS dataset has Open DSS models defined at the feeder and substation level. In this stage, Open DSS models are restructured and defined such that the analysis can be performed at the substation transformer level.
This can be performed using <a class="reference external" href="https://github.com/NREL/disco/blob/main/scripts/smartds_restructuring_transformer_folder.py">https://github.com/NREL/disco/blob/main/scripts/smartds_restructuring_transformer_folder.py</a></p>
<p>Usage:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>python<span class="w"> </span>~/sandboxes/disco/scripts/smartds_restructuring_transformer_folder.py<span class="w"> </span>BASE_PATH<span class="w"> </span>ORIGINAL_DATASET<span class="w"> </span>NEW_DATASET<span class="w"> </span>LIST_OF_REGIONS
</pre></div>
</div>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>python<span class="w"> </span>~/sandboxes/disco/scripts/smartds_restructuring_transformer_folder.py<span class="w"> </span>/projects/distcosts3/SMART-DS/v1.0/2018<span class="w"> </span>SFO<span class="w"> </span>SFO_xfmr<span class="w"> </span>P1U,P1R,P2U
</pre></div>
</div>
</section>
<section id="feeder-screening-model-fixes">
<h2>Feeder screening &amp; model fixes<a class="headerlink" href="#feeder-screening-model-fixes" title="Link to this heading">¶</a></h2>
<p>In this, all the base-case feeders are passed through a preliminary screening process.
Here, disconnected nodes are removed, and the models are checked for connectivity, isolated nodes and extreme cases of thermal or voltage violations.
These would need to be addressed before proceeding to the hosting capacity analysis. This can be done using <a class="reference external" href="https://github.com/NREL/Distribution-Integration-Analysis/blob/master/scripts-simulation/generate_screening_jobs.py">https://github.com/NREL/Distribution-Integration-Analysis/blob/master/scripts-simulation/generate_screening_jobs.py</a></p>
<p>Usage:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>python<span class="w"> </span>generate_screening_jobs.py<span class="w"> </span>PATH_TO_REGIONS
</pre></div>
</div>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>python<span class="w"> </span>generate_screening_jobs.py<span class="w"> </span>/projects/distcosts3/SMART-DS/v1.0/2018/SFO
</pre></div>
</div>
</section>
<section id="create-pv-deployments">
<h2>Create PV deployments<a class="headerlink" href="#create-pv-deployments" title="Link to this heading">¶</a></h2>
<p>In this stage, PV deployments are generated for hosting capacity analysis. There are 10 sample PV deployments for every placement type (close, random, far) for every 5% increment upto 200% PV to load ratio .
This can be done using disco, refer to the <a class="reference internal" href="../pv-deployments.html#pvdeployments"><span class="std std-ref">PV Deployments</span></a> documentation.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../data-sources.html" class="btn btn-neutral float-left" title="Data Sources" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../pv-deployments.html" class="btn btn-neutral float-right" title="PV Deployments" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2019, NREL.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>